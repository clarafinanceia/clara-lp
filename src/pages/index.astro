---
import IconShare from '../components/IconShare.astro';
import IconCheck from '../components/IconCheck.astro';
import IconLightning from '../components/IconLightning.astro';
import IconCard from '../components/IconCard.astro';
import IconBell from '../components/IconBell.astro';
import IconRocket from '../components/IconRocket.astro';
import CookieConsent from '../components/CookieConsent.astro';
import '../styles/global.css';

const currentYear = new Date().getFullYear();
---

<html lang="pt-BR" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

    <!-- Primary Meta Tags -->
    <title>Clara - Sua IA de Finanças Pessoais | Controle Financeiro Inteligente</title>
    <meta name="title" content="Clara - Sua IA de Finanças Pessoais | Controle Financeiro Inteligente" />
    <meta name="description" content="Clara é sua assistente de IA para finanças pessoais. Acompanhe gastos em tempo real, receba insights personalizados e economize automaticamente. Não deixe seu dinheiro falando sozinho." />
    <meta name="keywords" content="finanças pessoais, IA financeira, controle de gastos, economia automática, assistente financeiro, orçamento pessoal, planejamento financeiro" />
    <meta name="author" content="Clara" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://souaclara.com/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://souaclara.com/" />
    <meta property="og:title" content="Clara - Sua IA de Finanças Pessoais" />
    <meta property="og:description" content="Acompanhe gastos em tempo real, receba insights personalizados e economize automaticamente. Não deixe seu dinheiro falando sozinho." />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:site_name" content="Clara" />
    <meta property="og:image" content="https://souaclara.com/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="1200" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://souaclara.com/" />
    <meta property="twitter:title" content="Clara - Sua IA de Finanças Pessoais" />
    <meta property="twitter:description" content="Acompanhe gastos em tempo real, receba insights personalizados e economize automaticamente." />
    <meta property="twitter:image" content="https://souaclara.com/og-image.jpg" />

    <!-- Theme Color -->
    <meta name="theme-color" content="#1b329a" />
    <meta name="msapplication-TileColor" content="#1b329a" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Hubot+Sans:ital,wght@0,200..900;1,200..900&family=Inter:wght@200;300;400;600;700&display=swap" />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Clara",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web",
      "description": "Clara é sua assistente de IA para finanças pessoais. Acompanhe gastos em tempo real, receba insights personalizados e economize automaticamente.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "BRL"
      },
      "author": {
        "@type": "Organization",
        "name": "Clara",
        "url": "https://souaclara.com"
      }
    }
    </script>

    <!-- SVG Filter for Liquid Glass distortion effect -->
    <svg class="hidden" width="0" height="0" aria-hidden="true">
      <defs>
        <filter id="liquid-glass-distortion" x="-50%" y="-50%" width="200%" height="200%">
          <feTurbulence type="fractalNoise" baseFrequency="0.012" numOctaves="4" result="noise" seed="3" />
          <feDisplacementMap in="SourceGraphic" in2="noise" scale="35" xChannelSelector="R" yChannelSelector="G" />
        </filter>
      </defs>
    </svg>
  </head>
  <body class="overflow-x-hidden">
    <!-- Hero Section -->
    <section class="relative min-h-screen overflow-hidden">
      <!-- Video Background (crossfade loop) -->
      <div class="absolute inset-0 w-full h-full" id="hero-video-container">
        <video
          id="hero-video-a"
          autoplay
          muted
          playsinline
          preload="auto"
          poster="/images/video-poster.jpg"
          class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-100"
        >
          <source src="/images/header_animado.mp4" type="video/mp4" />
        </video>
        <video
          id="hero-video-b"
          muted
          playsinline
          preload="auto"
          class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-0"
        >
          <source src="/images/header_animado.mp4" type="video/mp4" />
        </video>
      </div>

      <!-- Header -->
      <header class="relative z-50 flex items-center justify-between px-4 lg:px-12 py-6">
        <div class="flex items-center shrink-0">
          <img src="/images/logo.svg" alt="Clara" width="134" height="45" />
        </div>
        <!-- Liquid Glass Navigation Pill -->
        <nav class="flex items-center relative rounded-full overflow-hidden shadow-glass glass-border-light">
          <!-- Glass blur layer -->
          <div class="absolute inset-0 rounded-full pointer-events-none glass-light"></div>

          <div class="relative z-10 flex items-center gap-[6px] sm:gap-[16px] px-[12px] sm:px-[24px] py-[6px] sm:py-[12px]">
            <a href="#como-funciona" class="text-white/50 hover:text-white/70 transition-colors text-xs sm:text-[18px] font-light">
              Como funciona
            </a>

            <span class="text-white/30 text-lg">|</span>

            <a href="#cta" class="flex items-center gap-[4px] sm:gap-[8px] text-xs sm:text-[18px] hover:opacity-80 transition-opacity cursor-pointer font-bold">
              <span class="bg-gradient-to-l from-white to-primary-lighter bg-clip-text pointer-events-none" style="-webkit-text-fill-color: transparent;">Entrar</span>
              <svg class="w-4 h-4 sm:w-5 sm:h-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <circle cx="12" cy="8" r="4" fill="url(#userGradient)" />
                <path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke="url(#userGradient)" stroke-width="2" stroke-linecap="round" />
                <defs>
                  <linearGradient id="userGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#728fbf" />
                    <stop offset="100%" stop-color="white" />
                  </linearGradient>
                </defs>
              </svg>
            </a>
          </div>
        </nav>
      </header>

      <!-- Hero Content -->
      <div class="relative z-10 flex flex-col items-center justify-center text-center px-6 pt-16 lg:pt-24 pb-32">
        <h1 class="text-4xl lg:text-[68px] text-white leading-[1.1] mb-32 font-hubot font-light">
          Não deixe <span class="font-bold">seu dinheiro</span><br />
          falando sozinho
        </h1>

        <div class="mb-6">
          <h2 class="text-2xl lg:text-[35px] text-white leading-[1.1] font-bold">Captura de economias</h2>
        </div>
        <p class="text-white text-lg lg:text-[25px] mb-8 max-w-xl leading-[1.1] font-extralight">
          Identificamos automaticamente onde você pode economizar
        </p>

        <a href="#cta" class="bg-white text-primary px-10 py-4 rounded-full text-[25px] hover:bg-opacity-90 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1">
          Começar agora →
        </a>

        <!-- Subtitle -->
        <h2 class="text-white text-xl lg:text-[25px] mt-16 mb-8 font-bold">
          Confira as vantagens de ter a Clara com você:
        </h2>

        <!-- Feature Cards - Liquid Glass style -->
        <div class="flex flex-col md:flex-row gap-6 lg:gap-8 mt-4 px-4">
          <!-- Card 1: Tempo real -->
          <div class="relative w-full md:w-[320px] lg:w-[392px] h-[180px] lg:h-[206px] rounded-[35px] overflow-hidden shadow-[0px_2.8px_20.75px_rgba(0,0,0,0.25)]">
            <div class="absolute inset-0 rounded-[35px] glass-hero"></div>
            <div class="relative flex flex-col items-center justify-center h-full text-center px-6 z-10">
              <!-- Lightning Icon -->
              <div class="flex items-center justify-center mb-4">
                <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M13 2L4 14h6l-1 8 9-12h-6l1-8z" fill="white" opacity="0.9"/>
                </svg>
              </div>
              <h3 class="text-white font-bold text-[20px] leading-[1.52] mb-2 drop-shadow-sm">Tempo real</h3>
              <p class="text-white font-light text-[14px] leading-[1.2] drop-shadow-sm">
                Acompanha cada transação automaticamente.<br/>Você não precisa fazer nada
              </p>
            </div>
          </div>

          <!-- Card 2: Insights avançados -->
          <div class="relative w-full md:w-[320px] lg:w-[392px] h-[180px] lg:h-[206px] rounded-[35px] overflow-hidden shadow-[0px_2.8px_20.75px_rgba(0,0,0,0.25)]">
            <div class="absolute inset-0 rounded-[35px] glass-hero"></div>
            <div class="relative flex flex-col items-center justify-center h-full text-center px-6 z-10">
              <div class="flex items-center justify-center">
                <IconShare />
              </div>
              <div class="mt-8">
                <h3 class="text-white font-bold text-[20px] leading-[1.52] mb-2 drop-shadow-sm">Insights avançados</h3>
                <p class="text-white font-light text-[14px] leading-[1.2] drop-shadow-sm">
                  Entende seus padrões e sugere melhorias<br/>personalizadas para você.
                </p>
              </div>
            </div>
          </div>

          <!-- Card 3: Sempre com você -->
          <div class="relative w-full md:w-[320px] lg:w-[392px] h-[180px] lg:h-[206px] rounded-[35px] overflow-hidden shadow-[0px_2.8px_20.75px_rgba(0,0,0,0.25)]">
            <div class="absolute inset-0 rounded-[35px] glass-hero"></div>
            <div class="relative flex flex-col items-center justify-center h-full text-center px-6 z-10">
              <!-- Color Palette Icon (Two Tone) -->
              <div class="flex items-center justify-center mb-4">
                <svg class="w-9 h-9" viewBox="0 0 36 36" fill="none" aria-hidden="true">
                  <path d="M13.5 3C15.9853 3 18 5.01472 18 7.5V28.5C18 30.9853 15.9853 33 13.5 33H7.5C5.01472 33 3 30.9853 3 28.5V7.5C3 5.01472 5.01472 3 7.5 3H13.5ZM10.5 25.5C9.67157 25.5 9 26.1716 9 27C9 27.8284 9.67157 28.5 10.5 28.5C11.3284 28.5 12 27.8284 12 27C12 26.1716 11.3284 25.5 10.5 25.5Z" fill="white"/>
                  <path opacity="0.3" d="M20.25 25.4886C20.25 25.9938 20.8362 26.2728 21.2283 25.9543L30.052 18.7867C31.8498 17.0366 31.8691 14.1544 30.0951 12.3803L25.8328 8.11802C24.7323 7.01746 23.2009 6.60471 21.7772 6.88513C20.7676 7.08399 20.25 8.11688 20.25 9.14592V25.4886Z" fill="white"/>
                  <path opacity="0.3" d="M20.8042 24.1942C20.4536 24.479 20.25 24.9067 20.25 25.3585V28.4958C20.25 29.3242 20.9216 29.9958 21.75 29.9958H28.5C30.9853 29.9958 33 27.9811 33 25.4958V18.2997C33 17.1332 32.3955 16.1079 31.4826 15.52L20.8042 24.1942Z" fill="white"/>
                </svg>
              </div>
              <h3 class="text-white font-bold text-[20px] leading-[1.52] mb-2 drop-shadow-sm">Sempre com você</h3>
              <p class="text-white font-light text-[14px] leading-[1.2] drop-shadow-sm">
                No app ou por mensagem. Clara está onde<br/>você precisa!
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- AI Section -->
    <section class="bg-white py-20 lg:py-32 px-6 rounded-t-[30px] lg:rounded-t-[60px] rounded-b-[30px] lg:rounded-b-[60px] -mt-12 relative z-20">
      <div class="max-w-7xl mx-auto">
        <!-- Badge -->
        <div class="flex justify-center mb-8">
          <span class="bg-gradient-to-r from-primary to-primary-lighter text-white px-12 py-1 rounded-full text-base font-light font-hubot">
            Inteligência Artificial
          </span>
        </div>

        <!-- Title -->
        <h2 class="text-3xl lg:text-5xl text-center font-bold mb-4">
          <span class="text-dark">A IA que </span><span class="bg-gradient-to-r from-primary to-primary-lighter bg-clip-text text-transparent" style="-webkit-text-fill-color: transparent;">entende você</span><br />
          <span class="text-dark">e </span><span class="bg-gradient-to-r from-primary to-primary-lighter bg-clip-text text-transparent" style="-webkit-text-fill-color: transparent;">entende seu bolso!</span>
        </h2>
        <p class="text-center text-gray-light text-lg lg:text-xl mb-16 max-w-2xl mx-auto">
          Tudo o que você precisa para ter controle financeiro
        </p>

        <!-- Analysis Card -->
        <div class="max-w-5xl mx-auto bg-gradient-to-l from-primary to-primary-dark rounded-[50px] p-6 lg:p-10 relative overflow-hidden shadow-[0px_1px_68px_0px_rgba(0,0,0,0.16)]">
          <div class="relative z-10 flex flex-col lg:flex-row gap-6 lg:gap-12">
            <!-- Left Content -->
            <div class="flex-1">
              <!-- Tag - Liquid Glass -->
              <div class="flex gap-2 mb-16">
                <div class="relative rounded-full overflow-hidden glass-border">
                  <div class="absolute inset-0 rounded-full glass"></div>
                  <span class="relative z-10 text-white px-5 py-2 flex items-center gap-2 text-[17px] font-light">
                    <IconShare />
                    IA Avançada
                  </span>
                </div>
              </div>

              <h3 class="text-2xl lg:text-[32px] text-white font-semibold mb-2 leading-tight">
                Análise Comportamental<br />Preditiva
              </h3>

              <p class="text-white/80 text-base lg:text-[16px] mt-4 mb-6 leading-relaxed font-light">
                Clara aprende seus padrões de consumo e <span class="font-bold text-white">prevê como você vai gastar nos próximos 3 meses.</span><br />
                Nossa IA identifica automaticamente oportunidades de economia antes que você perceba.
              </p>

              <!-- Features list -->
              <div class="grid grid-cols-2 gap-x-6 gap-y-4 text-white text-[19px] font-extralight">
                <div class="flex items-center gap-2">
                  <IconCheck />
                  <span>Previsão de 3 meses</span>
                </div>
                <div class="flex items-center gap-2">
                  <IconCheck />
                  <span>Economia automática</span>
                </div>
                <div class="flex items-center gap-2">
                  <IconCheck />
                  <span>Alertas antecipados</span>
                </div>
                <div class="flex items-center gap-2">
                  <IconCheck />
                  <span>Metas inteligentes</span>
                </div>
              </div>
            </div>

            <!-- Right Card - Projection with Liquid Glass -->
            <div class="w-full lg:w-[420px] min-h-[450px] relative rounded-[40px] overflow-hidden p-8 shadow-glass glass-border">
              <div class="absolute inset-0 rounded-[40px] glass"></div>

              <div class="relative z-10">
                <div class="flex justify-between items-start mb-44">
                  <div>
                    <p class="text-white/60 text-xs tracking-wider font-light">PROJEÇÃO</p>
                    <p class="text-white font-bold text-lg">Próximos 3 meses</p>
                  </div>
                  <div class="relative rounded-full overflow-hidden text-success px-3 py-1 text-[17px] flex items-center gap-2 glass-border">
                    <div class="absolute inset-0 rounded-full glass-success"></div>
                    <svg class="relative z-10 w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                      <path d="M7 7L17 17M17 17H7M17 17V7" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="relative z-10">-14%</span>
                  </div>
                </div>

                <!-- Chart - Horizontal bars -->
                <div class="flex gap-3 mb-4">
                  <div class="flex-1 h-4 bg-white rounded-full"></div>
                  <div class="flex-1 h-4 bg-white/50 rounded-full"></div>
                  <div class="flex-1 h-4 bg-white/50 rounded-full"></div>
                </div>

                <!-- Month labels and values -->
                <div class="flex justify-between mb-6">
                  <div class="flex-1 text-center">
                    <p class="text-white/40 text-xs mb-1">Dez</p>
                    <p class="text-white font-bold text-sm">R$ 4.2k</p>
                  </div>
                  <div class="flex-1 text-center">
                    <p class="text-white/40 text-xs mb-1">Jan</p>
                    <p class="text-white font-bold text-sm">R$ 3.9k</p>
                  </div>
                  <div class="flex-1 text-center">
                    <p class="text-white/40 text-xs mb-1">Fev</p>
                    <p class="text-white font-bold text-sm">R$ 3.6k</p>
                  </div>
                </div>

                <!-- Stats -->
                <div class="grid grid-cols-2 gap-[12px] sm:gap-[16px]">
                  <div class="relative rounded-[16px] h-[97px] flex flex-col items-center justify-center px-[8px]">
                    <div class="absolute inset-0 rounded-[16px] bg-[rgba(24,196,127,0.39)] opacity-60"></div>
                    <p class="relative z-10 font-bold text-[24px] sm:text-[32px] leading-[1.2] text-success" style="font-variant-numeric: lining-nums tabular-nums; font-feature-settings: 'dlig' on;">R$ 600</p>
                    <p class="relative z-10 text-[12px] sm:text-[14px]" style="color: rgba(255,255,255,0.38);">Economia/mês</p>
                  </div>
                  <div class="relative rounded-[16px] h-[97px] flex flex-col items-center justify-center px-[8px]">
                    <div class="absolute inset-0 rounded-[16px] bg-[rgba(255,255,255,0.39)] opacity-60"></div>
                    <p class="relative z-10 font-bold text-[24px] sm:text-[32px] leading-[1.2] text-white" style="font-variant-numeric: lining-nums tabular-nums; font-feature-settings: 'dlig' on;">95%</p>
                    <p class="relative z-10 text-[12px] sm:text-[14px] text-white">Precisão</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Benefits Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12">
          <!-- Card 1: Previsão de gastos -->
          <div class="relative w-full h-[189px] rounded-[32px] overflow-hidden shadow-[0_2.573px_19.041px_0_rgba(0,0,0,0.25)] hover:shadow-[0_4px_24px_0_rgba(0,0,0,0.3)] transition-shadow glass-subtle">
            <div class="flex flex-col items-center justify-center h-full text-center px-5">
              <IconLightning class="w-9 h-9 mb-3 text-primary" />
              <h4 class="text-black font-bold text-[19px] leading-[1.52] mb-1">Previsão de gastos</h4>
              <p class="text-black font-light text-[13px] leading-[1.2]">
                Antecipa seus gastos futuros com base no seu comportamento financeiro.
              </p>
            </div>
          </div>

          <!-- Card 2: Captura de economias -->
          <div class="relative w-full h-[189px] rounded-[32px] overflow-hidden shadow-[0_2.573px_19.041px_0_rgba(0,0,0,0.25)] hover:shadow-[0_4px_24px_0_rgba(0,0,0,0.3)] transition-shadow glass-subtle">
            <div class="flex flex-col items-center justify-center h-full text-center px-5">
              <IconCard class="w-9 h-9 mb-3 text-primary" />
              <h4 class="text-black font-bold text-[19px] leading-[1.52] mb-1">Captura de economias</h4>
              <p class="text-black font-light text-[13px] leading-[1.2]">
                Identificamos automaticamente onde você pode economizar dinheiro.
              </p>
            </div>
          </div>

          <!-- Card 3: Alertas preditivos -->
          <div class="relative w-full h-[189px] rounded-[32px] overflow-hidden shadow-[0_2.573px_19.041px_0_rgba(0,0,0,0.25)] hover:shadow-[0_4px_24px_0_rgba(0,0,0,0.3)] transition-shadow glass-subtle">
            <div class="flex flex-col items-center justify-center h-full text-center px-5">
              <IconBell class="w-9 h-9 mb-3 text-primary" />
              <h4 class="text-black font-bold text-[19px] leading-[1.52] mb-1">Alertas preditivos</h4>
              <p class="text-black font-light text-[13px] leading-[1.2]">
                Avisamos antes que um gasto fuja do controle.
              </p>
            </div>
          </div>

          <!-- Card 4: Metas adaptativas -->
          <div class="relative w-full h-[189px] rounded-[32px] overflow-hidden shadow-[0_2.573px_19.041px_0_rgba(0,0,0,0.25)] hover:shadow-[0_4px_24px_0_rgba(0,0,0,0.3)] transition-shadow glass-subtle">
            <div class="flex flex-col items-center justify-center h-full text-center px-5">
              <IconRocket class="w-9 h-9 mb-3 text-primary" />
              <h4 class="text-black font-bold text-[19px] leading-[1.52] mb-1">Metas adaptativas</h4>
              <p class="text-black font-light text-[13px] leading-[1.2]">
                Suas metas se ajustam ao seu comportamento.
              </p>
            </div>
          </div>
        </div>

        <!-- Arrow down -->
        <div class="flex justify-center mt-12">
          <a href="#como-funciona" class="cursor-pointer">
            <svg class="w-6 h-6 text-primary animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
            </svg>
          </a>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section id="como-funciona" class="relative pt-44 lg:pt-56 pb-32 lg:pb-48 px-6 -mt-24 lg:-mt-32 overflow-hidden scroll-mt-24">
      <!-- Video Background (crossfade loop) -->
      <div class="absolute inset-0 w-full h-full" id="como-funciona-video-container">
        <video id="como-funciona-video-a" muted playsinline preload="none" poster="/images/video-poster.jpg" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-100">
          <source data-src="/images/header_animado.mp4" type="video/mp4" />
        </video>
        <video id="como-funciona-video-b" muted playsinline preload="none" class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-0">
          <source data-src="/images/header_animado.mp4" type="video/mp4" />
        </video>
        <div class="absolute inset-0" style="background: linear-gradient(180deg, rgba(27, 50, 154, 0.4) 0%, rgba(11, 25, 88, 0.5) 50%, rgba(27, 50, 154, 0.4) 100%);"></div>
      </div>

      <div class="relative z-10 max-w-6xl mx-auto">
        <h2 class="text-3xl lg:text-5xl text-center font-bold text-white mb-4">
          Como funciona?
        </h2>
        <p class="text-center text-white/70 text-lg mb-16 font-extralight">
          4 passos simples para ter mais controle financeiro.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
          <!-- Step 1 -->
          <div class="flex items-center gap-4">
            <div class="text-[80px] lg:text-[120px] font-bold leading-none w-[50px] lg:w-[80px] text-center text-white">
              1
            </div>
            <div class="relative rounded-[24px] lg:rounded-[53px] overflow-hidden shadow-[0px_4px_32px_0px_rgba(0,0,0,0.25)] flex-1 min-h-[140px] lg:h-[236px] -ml-8 lg:-ml-10 glass-border">
              <div class="absolute inset-0 rounded-[24px] lg:rounded-[53px] glass"></div>
              <div class="relative z-10 px-4 py-6 lg:p-6 flex flex-col justify-center lg:h-full">
                <div class="flex items-center gap-3 mb-1">
                  <IconShare class="w-6 h-6 lg:w-10 lg:h-10 shrink-0" />
                  <h3 class="text-base lg:text-2xl font-bold text-white whitespace-nowrap">Conecte suas contas</h3>
                </div>
                <p class="text-white/80 text-sm lg:text-lg ml-9 lg:ml-13 font-light">
                  Clara se conecta com seus bancos de forma segura. <span class="text-white">Leva menos de 2 minutos</span>
                </p>
              </div>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="flex items-center gap-4">
            <div class="text-[80px] lg:text-[120px] font-bold leading-none w-[50px] lg:w-[80px] text-center shrink-0 text-white">
              2
            </div>
            <div class="relative rounded-[24px] lg:rounded-[53px] overflow-hidden shadow-[0px_4px_32px_0px_rgba(0,0,0,0.25)] flex-1 min-h-[140px] lg:h-[236px] -ml-8 lg:-ml-10 glass-border">
              <div class="absolute inset-0 rounded-[24px] lg:rounded-[53px] glass"></div>
              <div class="relative z-10 px-4 py-6 lg:p-6 flex flex-col justify-center lg:h-full">
                <div class="flex items-center gap-3 mb-1">
                  <svg class="w-6 h-6 lg:w-10 lg:h-10 shrink-0" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <circle cx="12" cy="8" r="4" fill="white"/>
                    <path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke="white" stroke-width="1.5" stroke-linecap="round" fill="none"/>
                  </svg>
                  <h3 class="text-base lg:text-2xl font-bold text-white whitespace-nowrap">Viva normalmente</h3>
                </div>
                <p class="text-white/80 text-sm lg:text-lg ml-9 lg:ml-13 font-light">
                  Clara acompanha tudo em tempo real, <span class="text-white">sem você precisar fazer nada.</span>
                </p>
              </div>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="flex items-center gap-4">
            <div class="text-[80px] lg:text-[120px] font-bold leading-none w-[50px] lg:w-[80px] text-center shrink-0 text-white">
              3
            </div>
            <div class="relative rounded-[24px] lg:rounded-[53px] overflow-hidden shadow-[0px_4px_32px_0px_rgba(0,0,0,0.25)] flex-1 min-h-[140px] lg:h-[236px] -ml-8 lg:-ml-10 glass-border">
              <div class="absolute inset-0 rounded-[24px] lg:rounded-[53px] glass"></div>
              <div class="relative z-10 px-4 py-6 lg:p-6 flex flex-col justify-center lg:h-full">
                <div class="flex items-center gap-3 mb-1">
                  <svg class="w-6 h-6 lg:w-10 lg:h-10 shrink-0" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <rect x="3" y="3" width="18" height="18" rx="3" stroke="white" stroke-width="1.5" fill="none"/>
                    <polyline points="7,16 10,11 14,13 18,8" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    <circle cx="18" cy="8" r="2" fill="white"/>
                  </svg>
                  <h3 class="text-base lg:text-2xl font-bold text-white whitespace-nowrap">Receba insights</h3>
                </div>
                <p class="text-white/80 text-sm lg:text-lg ml-9 lg:ml-13 font-light">
                  Alertas inteligentes quando algo precisar de sua atenção.
                </p>
              </div>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="flex items-center gap-4">
            <div class="text-[80px] lg:text-[120px] font-bold leading-none w-[50px] lg:w-[80px] text-center shrink-0 text-white">
              4
            </div>
            <div class="relative rounded-[24px] lg:rounded-[53px] overflow-hidden shadow-[0px_4px_32px_0px_rgba(0,0,0,0.25)] flex-1 min-h-[140px] lg:h-[236px] -ml-8 lg:-ml-10 glass-border">
              <div class="absolute inset-0 rounded-[24px] lg:rounded-[53px] glass"></div>
              <div class="relative z-10 px-4 py-6 lg:p-6 flex flex-col justify-center lg:h-full">
                <div class="flex items-center gap-3 mb-1">
                  <svg class="w-6 h-6 lg:w-10 lg:h-10 shrink-0" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <circle cx="7" cy="12" r="4" fill="white" opacity="0.9"/>
                    <circle cx="15" cy="8" r="3" fill="white" opacity="0.7"/>
                    <circle cx="15" cy="16" r="3" fill="white" opacity="0.5"/>
                  </svg>
                  <h3 class="text-base lg:text-2xl font-bold text-white whitespace-nowrap">Mais controle na palma da mão</h3>
                </div>
                <p class="text-white/80 text-sm lg:text-lg ml-9 lg:ml-13 font-light">
                  Clara descomplica suas finanças e te ajuda a viver <span class="text-white">mais tranquilo e preparado!</span>
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA Button -->
        <div class="flex justify-center mt-16">
          <a href="#cta" class="bg-white rounded-full px-[calc(var(--spacing)*5)] sm:px-10 py-[calc(var(--spacing)*2)] sm:py-3 text-[16px] sm:text-[26px] text-primary text-center cursor-pointer hover:opacity-90">
            Fale com a Clara →
          </a>
        </div>
      </div>

      <!-- Hero Image Section -->
      <div class="relative h-[600px] lg:h-[888px] mx-4 lg:mx-20 mt-16 rounded-[60px] lg:rounded-[100px] overflow-hidden">
      <div class="absolute inset-0">
        <img
          src="/images/hero-person.jpg"
          alt="Pessoa usando smartphone com o aplicativo Clara para controle financeiro"
          class="w-full h-full object-cover"
          loading="lazy"
          decoding="async"
        />
        <div class="absolute inset-0" style="background: linear-gradient(269deg, rgba(0, 0, 0, 0) 35.73%, rgba(0, 0, 0, 0.31) 99.71%);"></div>
      </div>

      <!-- Alert Card -->
      <div class="absolute left-4 lg:left-8 xl:left-16 top-1/2 -translate-y-1/2 lg:translate-y-0 lg:top-1/4">
        <div class="relative rounded-[24px] lg:rounded-[34px] overflow-hidden p-4 lg:p-7 max-w-[280px] lg:max-w-[520px]" style="background: rgba(244, 244, 244, 0.31); opacity: 0.92;">
          <div class="absolute inset-0 rounded-[24px] lg:rounded-[34px]" style="backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);"></div>
          <div class="absolute inset-0 rounded-[24px] lg:rounded-[34px] pointer-events-none" style="background: transparent; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); filter: url(#liquid-glass-distortion); mask-image: radial-gradient(ellipse 70% 65% at 50% 50%, transparent 60%, black 100%); -webkit-mask-image: radial-gradient(ellipse 70% 65% at 50% 50%, transparent 60%, black 100%);"></div>
          <div class="relative z-10 flex items-center gap-4 lg:gap-7">
            <!-- Logo Button -->
            <div class="relative w-[55px] h-[55px] lg:w-[90px] lg:h-[90px] rounded-[16px] lg:rounded-[28px] overflow-hidden shrink-0" style="background: linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, rgba(217, 217, 217, 0.3) 100%); border: 1px solid rgba(156, 156, 156, 0.5); box-shadow: -59px 145px 44px 0px rgba(145,145,145,0), -38px 93px 41px 0px rgba(145,145,145,0.01), -21px 52px 34px 0px rgba(145,145,145,0.03), -10px 24px 25px 0px rgba(145,145,145,0.04), -3px 6px 14px 0px rgba(145,145,145,0.05);">
              <div class="absolute inset-0 rounded-[16px] lg:rounded-[28px]" style="backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);"></div>
              <div class="absolute inset-0 pointer-events-none rounded-[inherit]" style="box-shadow: inset 0px -7px 6px 0px rgba(255,255,255,0.25), inset 0px 6px 6px 0px rgba(255,255,255,0.25);"></div>
              <img src="/images/alert-logo.png" alt="Clara" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[32px] lg:w-[55px] h-auto z-10" loading="lazy" decoding="async" />
            </div>
            <div class="text-white flex-1">
              <p class="text-sm lg:text-xl font-semibold mb-1 lg:mb-2">
                Alerta de próximo vencimento ⚠️
              </p>
              <p class="text-white text-xs lg:text-xl font-normal">
                Sua conta de internet no valor de R$ 97,95 vence em 3 dias.
              </p>
            </div>
          </div>
        </div>
      </div>
      </div>
    </section>

    <!-- Final CTA Section -->
    <section id="cta" class="bg-white py-20 lg:py-32 px-6 rounded-t-[30px] lg:rounded-t-[60px] relative z-20 -mt-12">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl lg:text-5xl font-bold mb-4">
          <span class="text-dark">Pronto para ter a </span>
          <span class="bg-gradient-to-r from-primary to-primary-lighter bg-clip-text text-transparent" style="-webkit-text-fill-color: transparent;">Clara?</span>
        </h2>
        <p class="text-gray-light text-lg lg:text-xl mb-12">
          Entre para a lista de espera e seja um dos primeiros.
        </p>

        <!-- Email Form - Waitlist -->
        <form id="waitlist-form" class="flex flex-col sm:flex-row gap-4 justify-center items-center max-w-[700px] mx-auto" novalidate>
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" aria-hidden="true" />
          <label for="email-input" class="sr-only">Endereço de e-mail</label>
          <input
            id="email-input"
            type="email"
            name="email"
            required
            placeholder="seu@email.com"
            class="w-full sm:flex-1 px-6 py-4 bg-[#ededed] rounded-full text-[20px] text-dark placeholder-gray-lighter focus:outline-none focus:ring-2 focus:ring-primary"
          />
          <button type="submit" class="w-full sm:w-auto bg-gradient-to-r from-primary-lighter to-primary text-white px-8 py-4 rounded-full text-[20px] font-normal hover:opacity-90 transition-opacity whitespace-nowrap cursor-pointer text-center">
            Entrar →
          </button>
        </form>

        <!-- Mensagens de feedback -->
        <div id="form-feedback" class="mt-4 text-center hidden">
          <p id="feedback-message" class="text-lg"></p>
        </div>

        <p class="text-gray-light text-base mt-8">
          Sem e-mails chatos! Vamos só te mandar a confirmação :)
        </p>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white py-12 px-6 border-t border-gray-100">
      <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6">
        <img src="/images/logo-blue.png" alt="Clara" width="134" height="45" loading="lazy" decoding="async" />
        <nav class="flex gap-8 text-gray-light text-base">
          <a href="/privacidade" class="hover:text-primary transition-colors">Privacidade</a>
        </nav>
        <p class="text-gray-light text-base">{currentYear} &copy; Clara</p>
      </div>
    </footer>

    <CookieConsent />

    <!-- Seamless crossfade video loop -->
    <script>
      const CROSSFADE_OFFSET = 1; // seconds before end to start crossfade

      function tryPlay(video: HTMLVideoElement) {
        video.muted = true;
        const p = video.play();
        if (p !== undefined) {
          p.catch(() => {
            const resume = () => {
              video.play().catch(() => {});
              document.removeEventListener('touchstart', resume);
              document.removeEventListener('click', resume);
            };
            document.addEventListener('touchstart', resume, { once: true });
            document.addEventListener('click', resume, { once: true });
          });
        }
      }

      function setupCrossfadeLoop(a: HTMLVideoElement, b: HTMLVideoElement) {
        let active = a;
        let standby = b;
        let isSwitching = false;

        function onTimeUpdate() {
          if (isSwitching) return;
          if (active.duration && active.currentTime >= active.duration - CROSSFADE_OFFSET) {
            isSwitching = true;
            standby.currentTime = 0;
            tryPlay(standby);
            standby.style.opacity = '1';
            active.style.opacity = '0';
            const prev = active;
            active = standby;
            standby = prev;
            active.addEventListener('timeupdate', onTimeUpdate);
            prev.removeEventListener('timeupdate', onTimeUpdate);
            setTimeout(() => { isSwitching = false; }, 1000);
          }
        }

        a.addEventListener('timeupdate', onTimeUpdate);
        tryPlay(a);
      }

      // Hero videos
      const heroA = document.getElementById('hero-video-a') as HTMLVideoElement | null;
      const heroB = document.getElementById('hero-video-b') as HTMLVideoElement | null;
      if (heroA && heroB) setupCrossfadeLoop(heroA, heroB);

      // Como Funciona videos (lazy-loaded)
      const cfA = document.getElementById('como-funciona-video-a') as HTMLVideoElement | null;
      const cfB = document.getElementById('como-funciona-video-b') as HTMLVideoElement | null;
      if (cfA && cfB) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              [cfA, cfB].forEach(v => {
                const source = v.querySelector<HTMLSourceElement>('source[data-src]');
                if (source && source.dataset.src) {
                  source.src = source.dataset.src;
                  source.removeAttribute('data-src');
                  v.load();
                }
              });
              setupCrossfadeLoop(cfA, cfB);
              observer.disconnect();
            }
          });
        }, { rootMargin: '200px' });
        observer.observe(cfA);
      }
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('waitlist-form') as HTMLFormElement;
        const emailInput = document.getElementById('email-input') as HTMLInputElement;
        const submitButton = form.querySelector('button[type="submit"]') as HTMLButtonElement;
        const feedback = document.getElementById('form-feedback') as HTMLDivElement;
        const feedbackMessage = document.getElementById('feedback-message') as HTMLParagraphElement;

        // Estado do botão
        const originalButtonText = submitButton.textContent;
        let isSubmitting = false;

        // Função para mostrar feedback
        function showFeedback(message: string, type: 'success' | 'error' | 'warning') {
          feedback.classList.remove('hidden');
          feedbackMessage.textContent = message;
          const styles = {
            success: 'text-lg text-green-600 font-semibold',
            warning: 'text-lg text-amber-600 font-semibold',
            error: 'text-lg text-red-600 font-semibold',
          };
          feedbackMessage.className = styles[type];
        }

        // Função para resetar feedback
        function hideFeedback() {
          feedback.classList.add('hidden');
          feedbackMessage.textContent = '';
        }

        // Validação de email
        function isValidEmail(email: string): boolean {
          const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return regex.test(email);
        }

        // Handler do formulário
        form.addEventListener('submit', async (e) => {
          e.preventDefault();

          // Prevenir múltiplos envios
          if (isSubmitting) return;

          const email = emailInput.value.trim();
          const honeypot = (form.querySelector('input[name="_gotcha"]') as HTMLInputElement)?.value;

          // Validação honeypot (anti-spam)
          if (honeypot) {
            console.warn('Bot detected');
            return;
          }

          // Validação de email
          if (!email) {
            showFeedback('Por favor, digite seu e-mail.', 'error');
            emailInput.focus();
            return;
          }

          if (!isValidEmail(email)) {
            showFeedback('Por favor, digite um e-mail válido.', 'error');
            emailInput.focus();
            return;
          }

          // Estado de loading
          isSubmitting = true;
          submitButton.disabled = true;
          submitButton.textContent = 'Enviando...';
          submitButton.classList.add('opacity-50', 'cursor-not-allowed');
          hideFeedback();

          try {
            const response = await fetch('/api/waitlist', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({ email }),
            });

            if (response.ok) {
              // Sucesso
              showFeedback('✅ E-mail cadastrado com sucesso! Você receberá novidades em breve.', 'success');
              form.reset();

              // Analytics (opcional - se tiver GA/GTM)
              if (typeof gtag !== 'undefined') {
                gtag('event', 'waitlist_signup', {
                  method: 'email',
                });
              }
            } else {
              // Erro do servidor
              const errorData = await response.json().catch(() => ({}));
              const errorMessage = errorData.message || errorData.error || 'Erro ao cadastrar e-mail.';

              if (response.status === 409 || errorMessage.includes('já está na lista')) {
                // Email já cadastrado
                showFeedback('Este e-mail já está cadastrado na lista de espera.', 'warning');
              } else if (response.status === 400) {
                // Bad request — usar mensagem do backend
                showFeedback(errorMessage, 'error');
              } else {
                showFeedback(`Erro: ${errorMessage}`, 'error');
              }
            }
          } catch (error) {
            // Erro de rede ou timeout
            console.error('Error submitting form:', error);
            showFeedback('Erro de conexão. Verifique sua internet e tente novamente.', 'error');
          } finally {
            // Resetar estado do botão
            isSubmitting = false;
            submitButton.disabled = false;
            submitButton.textContent = originalButtonText;
            submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
          }
        });

        // Limpar mensagem de erro ao digitar
        emailInput.addEventListener('input', () => {
          if (!feedback.classList.contains('hidden')) {
            hideFeedback();
          }
        });
      });
    </script>
  </body>
</html>
